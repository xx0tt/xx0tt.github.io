(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0141754e"],{"07bd":function(t,e,n){},"09d7":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mybutton"},[n("el-button",{class:{disabled:t.disabled},style:t.btnStyle,attrs:{disabled:t.disabled,type:"primary",icon:t.icon},on:{click:t.clickFn}},[t._t("lastIcon"),t._t("default"),t._t("rightIcon")],2)],1)},a=[],s={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},i=s,l=(n("95a8"),n("2877")),r=Object(l["a"])(i,o,a,!1,null,"40b17dc2",null);e["a"]=r.exports},"0eb5":function(t,e,n){"use strict";n("0ecc")},"0ecc":function(t,e,n){},"15d8":function(t,e,n){},"1f99":function(t,e,n){},"3d7a":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.listIsShow?t._e():n("div",{staticClass:"total"},[!1===t.lastDisabled||!1===t.rightDisabled?[n("span",[t._v("共"+t._s(t.taskList.totalCount)+"条数据 第"+t._s(t.taskList.pageIndex)+"/ "+t._s(Math.ceil(t.taskList.totalCount/10))+"页")]),n("div",{staticClass:"page-button"},[n("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.lastDisabled},on:{click:t.lastPage}},[t._v("上一页 ")]),n("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.rightDisabled},on:{click:t.nextPage}},[t._v("下一页 ")])],1)]:t._e()],2)},a=[],s=n("09d7"),i={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:s["a"]}},l=i,r=(n("0eb5"),n("2877")),c=Object(r["a"])(l,o,a,!1,null,"1154a776",null);e["a"]=c.exports},4208:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e,n){t=t||{};var o=e.prototype,a={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(t,e,n,a){return o.fromToBase(t,e,n,a)}n.en.relativeTime=a,o.fromToBase=function(e,o,s,i,l){for(var r,c,u,d=s.$locale().relativeTime||a,p=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=p.length,b=0;b<f;b+=1){var h=p[b];h.d&&(r=i?n(e).diff(s,h.d,!0):s.diff(e,h.d,!0));var m=(t.rounding||Math.round)(Math.abs(r));if(u=r>0,m<=h.r||!h.r){m<=1&&b>0&&(h=p[b-1]);var y=d[h.l];l&&(m=l(""+m)),c="string"==typeof y?y.replace("%d",m):y(m,o,h.l,u);break}}if(o)return c;var _=u?d.future:d.past;return"function"==typeof _?_(c):_.replace("%s",c)},o.to=function(t,e){return s(t,e,this,!0)},o.from=function(t,e){return s(t,e,this)};var i=function(t){return t.$u?n.utc():n()};o.toNow=function(t){return this.to(i(this),t)},o.fromNow=function(t){return this.from(i(this),t)}}}))},4796:function(t,e,n){"use strict";n("ff7d")},"4a9a":function(t,e,n){"use strict";n("d64f")},"4c68":function(t,e,n){"use strict";n("1f99")},9039:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.title,visible:t.isShow,width:t.width,"destroy-on-close":t.isDestroy},on:{"update:visible":function(e){t.isShow=e},close:t.close,open:t.open}},[t._t("default"),t.isInfoDialog?n("div",{staticClass:"bottom-btn"},[n("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.infoBtn}},[t._v("重新创建")])],1):t._e(),t.removeDialog?n("div",{staticClass:"bottom-btn"},[n("MyButton",{attrs:{btnStyle:t.infoStyle},on:{click:t.removeBtn}},[t._v("取消工单")])],1):t._e(),t.twoBtn?n("div",{staticClass:"bottom-btn"},[n("MyButton",{attrs:{btnStyle:t.cancelStyle},on:{click:t.cancelBtn}},[t._v("取 消 ")]),n("MyButton",{attrs:{btnStyle:t.sureStyle},on:{click:t.sureBtn}},[t._v("确 定 ")])],1):t._e()],2)},a=[],s=n("09d7"),i={name:"Dialog",data:function(){return{isShow:"",cancelStyle:{background:"#fbf4f0",color:"#655b56"},sureStyle:{background:"linear-gradient(135deg,#ff9743,#ff5e20)",color:"#fff",marginLeft:"24px"},infoStyle:{background:"#fbf4f0",color:"#655b56"}}},props:{businessIsShow:{typeof:Boolean,default:!1},title:{typeof:String},isInfoDialog:{type:Boolean,default:!1},twoBtn:{type:Boolean,default:!0},removeDialog:{type:Boolean,default:!1},isDestroy:{type:Boolean,default:!1},width:{typeof:String,default:"630px"}},created:function(){},methods:{cancelBtn:function(){this.$emit("cancelBtn")},sureBtn:function(){this.$emit("sureBtn")},open:function(){this.$emit("open")},close:function(){this.$emit("close")},infoBtn:function(){this.$emit("infoBtn")},removeBtn:function(){this.$emit("removeBtn")}},computed:{},watch:{businessIsShow:{immediate:!0,handler:function(){this.isShow=this.businessIsShow}}},components:{MyButton:s["a"]}},l=i,r=(n("4c68"),n("2877")),c=Object(r["a"])(l,o,a,!1,null,"023d4138",null);e["a"]=c.exports},"95a8":function(t,e,n){"use strict";n("15d8")},a471:function(t,e,n){!function(e,o){t.exports=o(n("5a0c"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){return"W"===e?t+"周":t+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(o,null,!0),o}))},d56c:function(t,e,n){"use strict";n("07bd")},d64f:function(t,e,n){},e4a8:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"peopleManger"},[n("SerchBar",{attrs:{lastInpTitle:"人员搜索",rightInpTitle:"角色",typeList:t.typeList},on:{search:t.searchFn}}),n("worktable"),n("FooterPage",{attrs:{taskList:t.workCountList,listIsShow:!t.workCountList.totalCount,lastDisabled:t.lastDisabled,rightDisabled:t.rightDisabled},on:{lastPage:t.lastPage,nextPage:t.nextPage}})],1)},a=[],s=n("c7eb"),i=n("1da1"),l=n("5530"),r=n("996f"),c=n("9039"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",{attrs:{label:t.lastInpTitle+":"}},[n("el-input",{ref:"lastInput",attrs:{placeholder:"请输入",clearable:""},model:{value:t.taskCode,callback:function(e){t.taskCode=e},expression:"taskCode"}})],1),t.rightInpTitle?n("el-form-item",{attrs:{label:t.rightInpTitle+":"}},[n("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.typeList,(function(t){return n("el-option",{key:t.roleId,attrs:{label:t.roleName,value:t.roleId}})})),1)],1):t._e(),n("el-form-item",[n("MyButton",{attrs:{icon:"el-icon-search",btnStyle:t.searchButStyle},on:{click:t.searchBtnFn}},[t._v(" 查询 ")])],1)],1)],1)},d=[],p=n("09d7"),f={name:"SearchBar",data:function(){return{taskCode:"",status:"",searchButStyle:{background:"#5f84ff"}}},props:{lastInpTitle:{type:String},rightInpTitle:{type:String},typeList:{type:Array}},created:function(){},methods:{searchBtnFn:function(){this.$emit("search",this.taskCode,this.status)}},computed:{},components:{MyButton:p["a"]}},b=f,h=(n("d56c"),n("2877")),m=Object(h["a"])(b,u,d,!1,null,"660cecf0",null),y=m.exports,_=n("2f62"),g=n("3d7a"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","empty-text":"暂无数据",border:!1,data:t.workCountList.currentPageRecords}},[n("el-table-column",{attrs:{prop:"pageIndex",label:"序号",width:"100",type:"index",index:t.indexMethod,"empty-text":"暂无数据"}}),n("el-table-column",{attrs:{prop:"userName",label:"人员名称",width:"180"}}),n("el-table-column",{attrs:{prop:"roleName",label:"角色",width:"180"}}),n("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"180"}}),n("el-table-column",{attrs:{prop:"workCount",label:"完成工单(本月)",width:"160"}}),n("el-table-column",{attrs:{prop:"progressTotal",label:"进行中工单",width:"160"}}),n("el-table-column",{attrs:{prop:"cancelCount",label:"拒绝工单(本月)",width:"160"}}),n("el-table-column",{attrs:{prop:"taskId",label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.sureBtn(o.userId)}}},[t._v(" 查看详情 ")])]}}])})],1),n("div",{staticClass:"detail"},[n("el-dialog",{attrs:{title:"人员详情",visible:t.businessIsShow},on:{"update:visible":function(e){t.businessIsShow=e}}},[n("div",{staticClass:"peopleName"},[n("span",{staticClass:"street"},[t._v("人员名称："+t._s(t.peopleInfo.userName))]),n("span",{staticClass:"yunying"},[t._v("角色："+t._s(t.peopleInfo.roleName))]),n("span",{staticClass:"phone"},[t._v("联系电话："+t._s(t.peopleInfo.mobile))]),n("p",{staticClass:"fuze"},[t._v("负责区域："+t._s(t.peopleInfo.regionName))])])])],1)],1)},w=[],v=n("5a0c"),L=n.n(v),S=n("4208");L.a.extend(S),n("a471"),L.a.locale("zh-cn");var B=L.a,x={data:function(){return{businessIsShow:!1,formLabelWidth:"120px",detailsList:{},tableTitle:[{title:"总工单数",name:"total"},{title:"拒绝工单",name:"cancelCount"},{title:"完成工单",name:"workCount"},{title:"进行中工单",name:"doingTotal"}],dataTime:[]}},created:function(){},computed:Object(l["a"])(Object(l["a"])({},Object(_["e"])("people",["peopleInfo"])),Object(_["e"])("people",["workCountList"])),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(_["b"])("people",["setpeopleInfoList"])),Object(_["b"])("people",["setWorkCountList"])),{},{sureBtn:function(t){var e=this;return Object(i["a"])(Object(s["a"])().mark((function n(){var o,a;return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.setpeopleInfoList(t);case 2:return console.log(e.peopleInfo),console.log(t),n.next=6,Object(r["f"])(t);case 6:o=n.sent,e.detailsList=o,a=B().startOf("day").format("YYYY-MM-DD HH:mm:ss"),console.log(a),B().endOf("date").format("YYYY-MM-DD HH:mm:ss"),e.businessIsShow=!0;case 12:case"end":return n.stop()}}),n)})))()},indexMethod:function(t){return t+1}})},I=x,O=(n("4a9a"),Object(h["a"])(I,k,w,!1,null,"77f0aa9c",null)),j=O.exports,C={name:"WorkPeopleManger",data:function(){return{dialogTableVisible:!1,typeList:[],peopleSearch:{pageIndex:1,pageSize:10}}},components:{Button:p["a"],SerchBar:y,FooterPage:g["a"],worktable:j,Dialog:c["a"]},created:function(){this.getWorkPeopleList()},computed:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(_["e"])("people",["workCountList"])),Object(_["e"])("people",["workList"])),Object(_["e"])("people",["roleList"])),{},{lastDisabled:function(){return this.workCountList.pageIndex<="1"},rightDisabled:function(){return this.workCountList.pageIndex>=this.workCountList.totalPage}}),methods:Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(_["b"])("people",["setWorkCountList"])),Object(_["b"])("people",["setWorkPeople"])),Object(_["b"])("people",["setpeopleInfoList"])),Object(_["b"])("people",["setRoleList"])),{},{getpeopleInfo:function(){console.log(1),this.dialogTableVisible=!0},getWorkPeopleList:function(t){var e=this;return Object(i["a"])(Object(s["a"])().mark((function n(){return Object(s["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.setWorkCountList(t);case 2:return n.next=4,e.setRoleList(t);case 4:e.typeList=e.roleList,console.log(e.typeList);case 6:case"end":return n.stop()}}),n)})))()},searchFn:function(t,e){var n=this;return Object(i["a"])(Object(s["a"])().mark((function o(){return Object(s["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.setWorkCountList(t,e);case 1:case"end":return o.stop()}}),o)})))()},lastPage:function(){this.setWorkCountList({pageIndex:this.workCountList.pageIndex-1})},nextPage:function(){this.setWorkCountList({pageIndex:this.workCountList.pageIndex-0+1})}})},M=C,Y=(n("4796"),Object(h["a"])(M,o,a,!1,null,"c91b4a52",null));e["default"]=Y.exports},ff7d:function(t,e,n){}}]);